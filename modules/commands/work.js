module.exports.config = {
	name: "work",
	version: "1.0.1",
	hasPermssion: 0,
	credits: "RÃ©ynÃ©l",
	description: "If you work, you can eat!",
	commandCategory: "economy",
  cooldowns: 5,
  envConfig: {
  cooldownTime: 1200000
    }
};

module.exports.languages = {
    "vi": {
        "cooldown": "Báº¡n Ä‘Ã£ lÃ m cÃ´ng viá»‡c hÃ´m nay, Ä‘á»ƒ trÃ¡nh kiá»‡t sá»©c hÃ£y quay láº¡i sau: %1 phÃºt %2 giÃ¢y.",
        "rewarded": "Báº¡n Ä‘Ã£ lÃ m cÃ´ng viá»‡c %1 vÃ  kiáº¿m ra Ä‘Æ°á»£c %2$",
        "job1": "bÃ¡n vÃ© sá»‘",
        "job2": "sá»­a xe",
        "job3": "láº­p trÃ¬nh",
        "job4": "hack facebook",
        "job5": "Ä‘áº§u báº¿p",
        "job6": "thá»£ há»“",
        "job7": "fake taxi",
        "job8": "gangbang ngÆ°á»i nÃ o Ä‘Ã³",
        "job9": "thá»£ sá»­a á»‘ng nÆ°á»›c may máº¯n  ( Í¡Â° ÍœÊ– Í¡Â°)",
        "job10": "streamer",
        "job11": "bÃ¡n hÃ ng trá»±c tuyáº¿n",
        "job12": "ná»™i trá»£",
        "job13": 'bÃ¡n "hoa"',
        "job14": "tÃ¬m jav/hentai code cho SpermLord",
        "job15": "chÆ¡i Yasuo vÃ  gÃ¡nh Ä‘á»™i cá»§a báº¡n"
    },
    "en": {
        "cooldown": "â„¹ï¸ | ð–²ð–¾ð—‡ð—Œð–¾ð—‚, ð—’ð—ˆð—Ž ð—ð–ºð—ð–¾ ð—ð—ˆð—‹ð—„ð–¾ð–½ ð—ð—ˆð–½ð–ºð—’, ð—ð—ˆ ð–ºð—ð—ˆð—‚ð–½ ð–¾ð—‘ð—ð–ºð—Žð—Œð—ð—‚ð—ˆð—‡ ð—‰ð—…ð–¾ð–ºð—Œð–¾ ð–¼ð—ˆð—†ð–¾ ð–»ð–ºð–¼ð—„ ð–ºð–¿ð—ð–¾ð—‹: %1 ð—†ð—‚ð—‡ð—Žð—ð–¾(ð—Œ) %2 ð—Œð–¾ð–¼ð—ˆð—‡ð–½(ð—Œ).",
        "rewarded": "ðŸ’° | ð–²ð–¾ð—‡ð—Œð–¾ð—‚, ð—’ð—ˆð—Ž ð–½ð—‚ð–½ ð—ð—ð–¾ ð—ƒð—ˆð–» ã€Š%1ã€‹ ð–ºð—‡ð–½ ð—‹ð–¾ð–¼ð–¾ð—‚ð—ð–¾ð–½ ã€Š%2$ã€‹",
        "job1": "ð–²ð–¾ð—…ð—… ð—…ð—ˆð—ð—ð–¾ð—‹ð—’ ð—ð—‚ð–¼ð—„ð–¾ð—ð—Œ",
        "job2": "ð–±ð–¾ð—‰ð–ºð—‚ð—‹ ð–¼ð–ºð—‹",
        "job3": "ð–¯ð—‹ð—ˆð—€ð—‹ð–ºð—†ð—†ð—‚ð—‡ð—€",
        "job4": "ð–§ð–ºð–¼ð—„ ð–¿ð–ºð–¼ð–¾ð–»ð—ˆð—ˆð—„",
        "job5": "ð–¢ð—ð–¾ð–¿",
        "job6": "ð–¬ð–ºð—Œð—ˆð—‡",
        "job7": "ð–¥ð–ºð—„ð–¾ ð—ð–ºð—‘ð—‚",
        "job8": "ð–¦ð–ºð—‡ð—€ð–»ð–ºð—‡ð—€ ð—Œð—ˆð—†ð–¾ð—ˆð—‡ð–¾",
        "job9": "ð–¯ð—…ð—Žð—†ð–»ð–¾ð—‹ ( Í¡Â° ÍœÊ– Í¡Â°)",
        "job10": "ð–²ð—ð—‹ð–¾ð–ºð—†ð–¾ð—‹",
        "job11": "ð–®ð—‡ð—…ð—‚ð—‡ð–¾ ð—Œð–¾ð—…ð—…ð–¾ð—‹",
        "job12": "ð–§ð—ˆð—Žð—Œð–¾ð—ð—‚ð–¿ð–¾",
        "job13": 'ð–²ð–¾ð—…ð—… "ð–¿ð—…ð—ˆð—ð–¾ð—‹"',
        "job14": "ð–¥ð—‚ð—‡ð–½ ð–©ð–ºð—/ð–§ð–¾ð—‡ð—ð–ºð—‚ ð–¼ð—ˆð–½ð–¾",
        "job15": "ð–¯ð—…ð–ºð—’ ð—’ð–ºð—Œð—Žð—ˆ ð–ºð—‡ð–½ ð–¼ð–ºð—‹ð—‹ð—’ ð—’ð—ˆð—Žð—‹ ð—ð–¾ð–ºð—†"
    }
}

module.exports.run = async ({ event, api, Currencies, getText }) => {
    const { threadID, messageID, senderID } = event;
    
    const cooldown = global.configModule[this.config.name].cooldownTime;
    let data = (await Currencies.getData(senderID)).data || {};
    if (typeof data !== "undefined" && cooldown - (Date.now() - data.workTime) > 0) {
        var time = cooldown - (Date.now() - data.workTime),
            minutes = Math.floor(time / 60000),
            seconds = ((time % 60000) / 1000).toFixed(0);
        
		return api.sendMessage(getText("cooldown", minutes, (seconds < 10 ? "0" + seconds : seconds)), event.threadID, event.messageID);
    }
    else {
        const job = [
            getText("job1"),
            getText("job2"),
            getText("job3"),
            getText("job4"),
            getText("job5"),
            getText("job6"),
            getText("job7"),
            getText("job8"),
            getText("job9"),
            getText("job10"),
            getText("job11"),
            getText("job12"),
            getText("job13"),
            getText("job14"),
            getText("job15")
        ];
        const amount = Math.floor(Math.random() * 600);
        return api.sendMessage(getText("rewarded", job[Math.floor(Math.random() * job.length)], amount), threadID, async () => {
            await Currencies.increaseMoney(senderID, parseInt(amount));
            data.workTime = Date.now();
            await Currencies.setData(event.senderID, { data });
            return;
        }, messageID);
    }     
}